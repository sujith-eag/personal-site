<!doctype html>
<html lang="en" data-bs-theme="auto">
  <head><script src="/personal-site/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=personal-site/livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="http://localhost:1313/personal-site/fonts/vendor/jost/jost-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="http://localhost:1313/personal-site/fonts/vendor/jost/jost-v4-latin-500.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="http://localhost:1313/personal-site/fonts/vendor/jost/jost-v4-latin-700.woff2" as="font" type="font/woff2" crossorigin>
<script 
  src="/personal-site/js/color-mode.f14b3e296de1d0b69e75af684b62a4a912a2cadab04e36123407cd8388204f1d.js"
  integrity="sha256-8Us&#43;KW3h0Laeda9oS2KkqRKiytqwTjYSNAfNg4ggTx0=">
</script>


<link rel="stylesheet" href="/personal-site/main.c0e24d0bb4526375ef42a8fffa4eb23f8f782cb58ac9f07c6886fe943a0ed00e176b284d9d1a5b8e9d68a3f2f5918367e18fe55f5fde9451a8c6d3fe85342b7b.css" integrity="sha512-wOJNC7RSY3XvQqj/&#43;k6yP494LLWKyfB8aIb&#43;lDoO0A4XayhNnRpbjp1oo/L1kYNn4Y/lX1/elFGoxtP&#43;hTQrew==" crossorigin="anonymous">

<noscript><style>img.lazyload { display: none; }</style></noscript>
	
<title>07 Exceptions - 03 Unit Testing</title>
  
<meta name="description" content="Reference site with summary on Programming Concepts">



</head>

  
  <body class="single section docs" data-bs-spy="scroll" data-bs-target="#toc" data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll="true" tabindex="0">
    <div class="sticky-top">
<header class="navbar navbar-expand-lg">
  <div class="container-lg">
  
    <a class="navbar-brand me-auto me-lg-3" href="/personal-site/">Sujith&#39;s Library</a>

    
    
    <button type="button" id="searchToggleMobile" class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <circle cx="10" cy="10" r="7"></circle>
        <line x1="21" y1="21" x2="15" y2="15"></line>
      </svg>
    </button>
    
    
    <button class="btn btn-link nav-link mx-2 order-3 d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavMain" aria-controls="offcanvasNavMain" aria-label="Open main navigation menu">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <line x1="4" y1="8" x2="20" y2="8"></line>
        <line x1="4" y1="16" x2="20" y2="16"></line>
      </svg>
    </button>

    
    <div class="offcanvas offcanvas-end h-auto" tabindex="-1" id="offcanvasNavMain" aria-labelledby="offcanvasNavMainLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavMainLabel">Sujith&#39;s Library</h5>
        <button type="button" class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss="offcanvas" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M18 6l-12 12"></path>
            <path d="M6 6l12 12"></path>
         </svg>
        </button>
      </div>
      
      <div class="offcanvas-body d-flex flex-column flex-lg-row justify-content-between">
        <ul class="navbar-nav flex-grow-1"><li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/personal-site/docs/python/">Python</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/personal-site/docs/html-css/">HTML/CSS</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/personal-site/docs/java-script/">JavaScript</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/personal-site/docs/java-script-dom/">JS DOM</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/personal-site/docs/c/">C &amp; DSA</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/personal-site/docs/bash-linux/">Linux</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/personal-site/docs/os/">OS</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/personal-site/docs/dbms/">DBMS</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/personal-site/docs/tools/">Tools</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/personal-site/blog/">Blog</a>
              </li>
            </ul>

        
        
        <button type="button" id="searchToggleDesktop" class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <circle cx="10" cy="10" r="7"></circle>
            <line x1="21" y1="21" x2="15" y2="15"></line>
          </svg>
        </button>
        
        
        
        <button id="buttonColorMode" class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type="button" aria-label="Toggle theme">
          <svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
          </svg>
          <svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0m-5 0h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path>
          </svg>
        </button>
        
        <ul id="socialMenu" class="nav mx-auto flex-row order-lg-4">
          <li class="nav-item">
              <a class="nav-link social-link" href="https://github.com/sujith-eag"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path></svg><small class="ms-2 visually-hidden">GitHub</small></a>
            </li>
          </ul>
        
        </div>
    </div>

    
    </div>
</header>
</div>

<div class="modal" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 visually-hidden" id="searchModalLabel">Search</h1>
        <button type="button" class="btn-close visually-hidden" data-bs-dismiss="modal" aria-label="Close"></button>
        <div class="search-input flex-grow-1 d-none">
          <form id="search-form" class="search-form" action="#" method="post" accept-charset="UTF-8" role="search">
            <label for="query" class="visually-hidden">Search</label>
            <div class="d-flex">
              <input type="search" id="query" name="query" class="search-text form-control form-control-lg" placeholder="Search" aria-label="Search" maxlength="128" autocomplete="off">
              <button type="button" class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-body">
        <p class="search-loading status message d-none mt-3 text-center">Loading search index…</p>
        <p class="search-no-recent message d-none mt-3 text-center">No recent searches</p>
        <p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class="query-no-results">Query here</span></strong>"</p>
        <div id="searchResults" class="search-results"></div>
        <template>
          <article class="search-result list-view">
            <div class="card my-3">
              <div class="card-body">
                <header>
                  <h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href="#">Title here</a></h2>
                  <div class="submitted d-none"><time class="created-date">Date here</time></div>
                </header>
                <div class="content">Summary here</div>
              </div>
            </div>
          </article>
        </template>
      </div>
      <div class="modal-footer">
        <ul class="list-inline me-auto d-none d-md-block">
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd><span class="DocSearch-Label">to select</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd><span class="DocSearch-Label">to navigate</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd><span class="DocSearch-Label">to close</span></li>
        </ul>
        <p class="d-md-none">Search by <a class="text-decoration-none" href="https://github.com/nextapps-de/flexsearch">FlexSearch</a></p>
      </div>
    </div>
  </div>
</div>


    <div class="wrap container-lg" role="document">
      <div class="content">
      
        
	<div class="row flex-xl-nowrap">
		
		<nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
			<div class="page-links">
  <h3>On this page</h3>
    <nav id="toc">
  <ul>
    <li><a href="#1-basic-unit-test-using"><strong>1. Basic Unit Test Using <code>assert</code></strong></a>
      <ul>
        <li><a href="#example-1-testing-a-simple-function-with"><strong>Example 1: Testing a Simple Function with <code>assert</code></strong></a>
          <ul>
            <li><a href="#function-to-be-tested"><strong>Function to be tested</strong>:</a></li>
            <li><a href="#unit-test-code"><strong>Unit Test Code</strong>:</a></li>
          </ul>
        </li>
        <li><a href="#explanation"><strong>Explanation</strong>:</a></li>
        <li><a href="#outcome"><strong>Outcome</strong>:</a></li>
      </ul>
    </li>
    <li><a href="#2-handling-errors-using"><strong>2. Handling Errors Using <code>try-except</code></strong></a>
      <ul>
        <li><a href="#example-2-handling-assertion-errors-with"><strong>Example 2: Handling Assertion Errors with <code>try-except</code></strong></a></li>
        <li><a href="#explanation-1"><strong>Explanation</strong>:</a></li>
        <li><a href="#outcome-1"><strong>Outcome</strong>:</a></li>
      </ul>
    </li>
    <li><a href="#3-using"><strong>3. Using <code>pytest</code> for Automated Testing</strong></a>
      <ul>
        <li><a href="#installing-"><strong>Installing <code>pytest</code></strong>:</a></li>
        <li><a href="#example-3-testing-with"><strong>Example 3: Testing with <code>pytest</code></strong></a></li>
        <li><a href="#running-the-test"><strong>Running the Test</strong>:</a></li>
        <li><a href="#explanation-2"><strong>Explanation</strong>:</a></li>
        <li><a href="#outcome-2"><strong>Outcome</strong>:</a></li>
      </ul>
    </li>
    <li><a href="#4-reducing-side-effects-for-better-testing"><strong>4. Reducing Side Effects for Better Testing</strong></a>
      <ul>
        <li><a href="#example-4-avoiding-side-effects"><strong>Example 4: Avoiding Side Effects</strong></a>
          <ul>
            <li><a href="#before"><strong>Before</strong>:</a></li>
            <li><a href="#after"><strong>After</strong>:</a></li>
          </ul>
        </li>
        <li><a href="#example-5-testing-the-new-version-of"><strong>Example 5: Testing the New Version of <code>hello()</code></strong></a></li>
        <li><a href="#explanation-3"><strong>Explanation</strong>:</a></li>
      </ul>
    </li>
    <li><a href="#best-practices-for-unit-testing"><strong>Best Practices for Unit Testing</strong></a>
      <ul>
        <li><a href="#1-write-small-functions"><strong>1. Write Small Functions</strong></a></li>
        <li><a href="#2-avoid-side-effects"><strong>2. Avoid Side Effects</strong></a></li>
        <li><a href="#3-use-descriptive-test-names"><strong>3. Use Descriptive Test Names</strong></a></li>
        <li><a href="#4-test-for-edge-cases"><strong>4. Test for Edge Cases</strong></a></li>
        <li><a href="#5-automate-testing"><strong>5. Automate Testing</strong></a></li>
        <li><a href="#6-separate-tests-from-code"><strong>6. Separate Tests from Code</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>

		</nav>
		<main class="docs-content col-lg-11 col-xl-9">
		
			<h1>07 Exceptions - 03 Unit Testing</h1>
			
			<nav class="toc-mobile d-xl-none" aria-label="Quaternary navigation">
				<details>
    <summary>On this page</summary>
    <div class="page-links">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#1-basic-unit-test-using"><strong>1. Basic Unit Test Using <code>assert</code></strong></a>
      <ul>
        <li><a href="#example-1-testing-a-simple-function-with"><strong>Example 1: Testing a Simple Function with <code>assert</code></strong></a>
          <ul>
            <li><a href="#function-to-be-tested"><strong>Function to be tested</strong>:</a></li>
            <li><a href="#unit-test-code"><strong>Unit Test Code</strong>:</a></li>
          </ul>
        </li>
        <li><a href="#explanation"><strong>Explanation</strong>:</a></li>
        <li><a href="#outcome"><strong>Outcome</strong>:</a></li>
      </ul>
    </li>
    <li><a href="#2-handling-errors-using"><strong>2. Handling Errors Using <code>try-except</code></strong></a>
      <ul>
        <li><a href="#example-2-handling-assertion-errors-with"><strong>Example 2: Handling Assertion Errors with <code>try-except</code></strong></a></li>
        <li><a href="#explanation-1"><strong>Explanation</strong>:</a></li>
        <li><a href="#outcome-1"><strong>Outcome</strong>:</a></li>
      </ul>
    </li>
    <li><a href="#3-using"><strong>3. Using <code>pytest</code> for Automated Testing</strong></a>
      <ul>
        <li><a href="#installing-"><strong>Installing <code>pytest</code></strong>:</a></li>
        <li><a href="#example-3-testing-with"><strong>Example 3: Testing with <code>pytest</code></strong></a></li>
        <li><a href="#running-the-test"><strong>Running the Test</strong>:</a></li>
        <li><a href="#explanation-2"><strong>Explanation</strong>:</a></li>
        <li><a href="#outcome-2"><strong>Outcome</strong>:</a></li>
      </ul>
    </li>
    <li><a href="#4-reducing-side-effects-for-better-testing"><strong>4. Reducing Side Effects for Better Testing</strong></a>
      <ul>
        <li><a href="#example-4-avoiding-side-effects"><strong>Example 4: Avoiding Side Effects</strong></a>
          <ul>
            <li><a href="#before"><strong>Before</strong>:</a></li>
            <li><a href="#after"><strong>After</strong>:</a></li>
          </ul>
        </li>
        <li><a href="#example-5-testing-the-new-version-of"><strong>Example 5: Testing the New Version of <code>hello()</code></strong></a></li>
        <li><a href="#explanation-3"><strong>Explanation</strong>:</a></li>
      </ul>
    </li>
    <li><a href="#best-practices-for-unit-testing"><strong>Best Practices for Unit Testing</strong></a>
      <ul>
        <li><a href="#1-write-small-functions"><strong>1. Write Small Functions</strong></a></li>
        <li><a href="#2-avoid-side-effects"><strong>2. Avoid Side Effects</strong></a></li>
        <li><a href="#3-use-descriptive-test-names"><strong>3. Use Descriptive Test Names</strong></a></li>
        <li><a href="#4-test-for-edge-cases"><strong>4. Test for Edge Cases</strong></a></li>
        <li><a href="#5-automate-testing"><strong>5. Automate Testing</strong></a></li>
        <li><a href="#6-separate-tests-from-code"><strong>6. Separate Tests from Code</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </details>

			</nav>
			<p>Unit testing is a software testing technique where individual units or components of a program are tested in isolation. The goal is to ensure that each function or module works as expected. Unit testing helps catch errors early, provides better documentation, and ensures that the code continues to work correctly as it evolves.</p>
<p>Python provides several ways to perform unit testing. Here, we will focus on the <code>assert</code> keyword, manual error handling, and the powerful testing framework <code>pytest</code>.</p>
<hr>
<h2 id="1-basic-unit-test-using"><strong>1. Basic Unit Test Using <code>assert</code></strong></h2>
<p>The <code>assert</code> keyword is used to verify that an expression evaluates to <code>True</code>. If the expression is <code>False</code>, an <code>AssertionError</code> is raised. This is a simple way to test the correctness of your code.</p>
<h3 id="example-1-testing-a-simple-function-with"><strong>Example 1: Testing a Simple Function with <code>assert</code></strong></h3>
<p>Let&rsquo;s say we have a function <code>square(x)</code> that returns the square of a number.</p>
<h4 id="function-to-be-tested"><strong>Function to be tested</strong>:</h4>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># calculator.py</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span></span></span></code></pre></div>
  </figure>
</div>
<h4 id="unit-test-code"><strong>Unit Test Code</strong>:</h4>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">calculator</span> <span class="kn">import</span> <span class="n">square</span>  <span class="c1"># Importing the function to test</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">test_square</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_square</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Using assert to check the correctness of the function</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">square</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>   <span class="c1"># 2 squared is 4</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">square</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span>   <span class="c1"># 3 squared is 9</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">main</span><span class="p">()</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="explanation"><strong>Explanation</strong>:</h3>
<ul>
<li><code>assert square(2) == 4</code>: This checks if the function <code>square(2)</code> returns 4. If it doesn’t, an <code>AssertionError</code> will be raised.</li>
<li>Using <code>assert</code> is preferable to manually checking the condition and printing messages because it provides immediate feedback during testing and is easier to automate.</li>
</ul>
<h3 id="outcome"><strong>Outcome</strong>:</h3>
<ul>
<li>If both assertions are true, the program will exit quietly, meaning no errors were encountered.</li>
<li>If any assertion fails, an <code>AssertionError</code> will occur, and the test will be marked as failed.</li>
</ul>
<hr>
<h2 id="2-handling-errors-using"><strong>2. Handling Errors Using <code>try-except</code></strong></h2>
<p>While <code>assert</code> is simple and effective for basic testing, you might want to handle errors more explicitly. You can do this using <code>try-except</code> blocks.</p>
<h3 id="example-2-handling-assertion-errors-with"><strong>Example 2: Handling Assertion Errors with <code>try-except</code></strong></h3>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">calculator</span> <span class="kn">import</span> <span class="n">square</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">test_square</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_square</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">square</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;2 squared was not 4&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">square</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;3 squared was not 9&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">main</span><span class="p">()</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="explanation-1"><strong>Explanation</strong>:</h3>
<ul>
<li>Here, we manually handle <code>AssertionError</code> exceptions using <code>try-except</code> blocks.</li>
<li>If the assertion fails, a custom error message will be printed.</li>
</ul>
<h3 id="outcome-1"><strong>Outcome</strong>:</h3>
<ul>
<li>This method gives you more control over the output, but it’s more verbose and less automated than using <code>assert</code> alone.</li>
</ul>
<hr>
<h2 id="3-using"><strong>3. Using <code>pytest</code> for Automated Testing</strong></h2>
<p><code>pytest</code> is a popular testing framework in Python that can be used to write more sophisticated tests. It handles error reporting, test isolation, and much more.</p>
<h3 id="installing-"><strong>Installing <code>pytest</code></strong>:</h3>
<p>To use <code>pytest</code>, install it using pip:</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pip install pytest</span></span></code></pre></div>
  </figure>
</div>
<h3 id="example-3-testing-with"><strong>Example 3: Testing with <code>pytest</code></strong></h3>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># test_calculator.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">calculator</span> <span class="kn">import</span> <span class="n">square</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_square</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">square</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>    <span class="c1"># Test for positive number</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">square</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>   <span class="c1"># Test for negative number</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">square</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span>    <span class="c1"># Another test for positive number</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">square</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>    <span class="c1"># Test for zero</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="running-the-test"><strong>Running the Test</strong>:</h3>
<p>To run the test, execute the following command in the terminal:</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pytest test_calculator.py</span></span></code></pre></div>
  </figure>
</div>
<h3 id="explanation-2"><strong>Explanation</strong>:</h3>
<ul>
<li><code>pytest</code> automatically identifies functions prefixed with <code>test_</code> as test cases.</li>
<li>It handles the assertion and error reporting. If any assertion fails, <code>pytest</code> will print detailed error messages to help you debug.</li>
</ul>
<h3 id="outcome-2"><strong>Outcome</strong>:</h3>
<ul>
<li><code>pytest</code> gives a clear, easy-to-read output and can handle large suites of tests efficiently.</li>
<li>It automatically discovers and runs the test functions.</li>
</ul>
<hr>
<h2 id="4-reducing-side-effects-for-better-testing"><strong>4. Reducing Side Effects for Better Testing</strong></h2>
<p>One of the challenges with testing code is dealing with functions that have &ldquo;side effects&rdquo;—such as printing to the console or modifying global variables. For unit tests to be effective, it’s best to minimize these side effects.</p>
<h3 id="example-4-avoiding-side-effects"><strong>Example 4: Avoiding Side Effects</strong></h3>
<h4 id="before"><strong>Before</strong>:</h4>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">to</span><span class="o">=</span><span class="s2">&#34;world&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Hello,&#34;</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&#34;What&#39;s your name? &#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></span></span></code></pre></div>
  </figure>
</div>
<p>This function <code>hello()</code> prints a message to the console. When testing it, the output isn’t easy to validate because it doesn’t return anything, making it difficult to check the output programmatically.</p>
<h4 id="after"><strong>After</strong>:</h4>
<p>To make this function more testable, we can modify it to <strong>return</strong> the string instead of printing it.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">to</span><span class="o">=</span><span class="s2">&#34;world&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="sa">f</span><span class="s2">&#34;Hello, </span><span class="si">{</span><span class="n">to</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&#34;What&#39;s your name? &#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>  <span class="c1"># Print the returned value</span></span></span></code></pre></div>
  </figure>
</div>
<p>Now, the <code>hello()</code> function returns the string, which makes it easy to test.</p>
<h3 id="example-5-testing-the-new-version-of"><strong>Example 5: Testing the New Version of <code>hello()</code></strong></h3>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># test_hello.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">hello</span> <span class="kn">import</span> <span class="n">hello</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_hello</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">hello</span><span class="p">(</span><span class="s2">&#34;David&#34;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&#34;Hello, David&#34;</span>  <span class="c1"># Testing with name provided</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">hello</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&#34;Hello, world&#34;</span>         <span class="c1"># Testing with default value</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="explanation-3"><strong>Explanation</strong>:</h3>
<ul>
<li>The modified version of <code>hello()</code> returns the string rather than printing it.</li>
<li>Now, the test checks the returned values, which is easier to validate and automate.</li>
</ul>
<hr>
<h2 id="best-practices-for-unit-testing"><strong>Best Practices for Unit Testing</strong></h2>
<h3 id="1-write-small-functions"><strong>1. Write Small Functions</strong></h3>
<p>Break your code into small, focused functions. Smaller functions are easier to test, debug, and maintain. Each function should ideally have a single responsibility and clear input/output.</p>
<h3 id="2-avoid-side-effects"><strong>2. Avoid Side Effects</strong></h3>
<p>Side effects, like modifying global variables or printing output, should be minimized. Functions should return values rather than print them, making them easier to test and reuse.</p>
<h3 id="3-use-descriptive-test-names"><strong>3. Use Descriptive Test Names</strong></h3>
<p>Name your test functions clearly. The name should describe the behavior being tested (e.g., <code>test_square_positive_numbers()</code>).</p>
<h3 id="4-test-for-edge-cases"><strong>4. Test for Edge Cases</strong></h3>
<p>Make sure to test edge cases and unexpected inputs, such as negative numbers, zero, or very large numbers.</p>
<h3 id="5-automate-testing"><strong>5. Automate Testing</strong></h3>
<p>Use tools like <code>pytest</code> to automate your tests. This saves time, especially when you have many tests and want to run them regularly.</p>
<h3 id="6-separate-tests-from-code"><strong>6. Separate Tests from Code</strong></h3>
<p>Keep your tests in separate files or modules, such as <code>test_calculator.py</code>, so they can be managed independently from your main program.</p>
<hr>

			<div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between">
				
				


  













<div class="edit-page">
  <a href="https://github.com/sujith-eag/personal-site/blob/main/content//docs/python/7exceptions/7_3_unit_testing.md">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2">
      <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
    </svg>
    Edit this page on GitHub
  </a>
</div>

				</div>
			<div class="page-nav d-flex flex-column flex-sm-row">
	
	<div class="card w-100">
			<div class="card-body d-flex">
				<div class="d-flex flex-column justify-content-center">
					<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
						<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
						<path d="M5 12l14 0"></path>
						<path d="M5 12l6 6"></path>
						<path d="M5 12l6 -6"></path>
				 	</svg>
				</div>
				<div class="d-flex flex-column">
					<div class="text-body-secondary">Prev</div>
					<a href="/personal-site/docs/python/7exceptions/07-exceptions-02-errors-handling/" class="stretched-link text-reset text-decoration-none">07 Exceptions - 02 Errors Handling</a>
				</div>
			</div>
		</div>
	<div class="m-2"></div>
	<div class="card text-end w-100">
			<div class="card-body d-flex justify-content-end">
				<div class="d-flex flex-column">
					<div class="text-body-secondary">Next</div>
					<a href="/personal-site/docs/python/7exceptions/07-exceptions-04---/" class="stretched-link text-reset text-decoration-none">07 Exceptions - 04 ---</a>
				</div>
				<div class="d-flex flex-column justify-content-center">
					<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
						<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
						<path d="M5 12l14 0"></path>
						<path d="M13 18l6 -6"></path>
						<path d="M13 6l6 6"></path>
					</svg>
				</div>
			</div>
		</div>
	</div>

			
		</main>
		
	</div>

      
      </div>
    </div>
    
    
    <footer class="footer text-muted">
  <div class="container-lg">
    <div class="row">
      <div class="col-lg-8 text-center text-lg-start">
        <ul class="list-inline">
          <li class="list-inline-item"><a class="text-muted" href="/personal-site/privacy/">Privacy Policy</a></li>
        </ul>
      </div>
      <div class="col-lg-8 text-center text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item">Made by <a class="text-muted" href="https://sujith-eag.github.io/personal-site/">Sujith</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>

    

<script async
  src="/personal-site/js/app.ec98ea736af7f8f531281a21224330da682d1dc9973423443b3d5ce8c45c6ea1.js"
  integrity="sha256-7Jjqc2r3&#43;PUxKBohIkMw2mgtHcmXNCNEOz1c6MRcbqE=">
</script>





<script async
  src="/personal-site/js/flexsearch.8350d2f520e131f8552ed57c1eadd05c50eccf0427267781442dd8ddf8fdcdf7.js"
  integrity="sha256-g1DS9SDhMfhVLtV8Hq3QXFDszwQnJneBRC3Y3fj9zfc=">
</script>
<script async
  src="/personal-site/js/search-modal.877cece5b6bc789456f89fa1955ccfcd8a5acdb2179e7882e292a6caa49efe68.js"
  integrity="sha256-h3zs5ba8eJRW&#43;J&#43;hlVzPzYpazbIXnniC4pKmyqSe/mg=">
</script>

    
  </body>
</html>